# 2. 품사

NatureShell에서 품사는 언어의 기본 단위이다. 그리고 그 품사의 명칭은 인간의 언어에서 따왔다. 앞서 보여준 명령어 구조는 전체 품사의 일부에 불과하다. 정확한 구조를 일반화하기는 쉽지 않으나, 굳이 3개의 문장으로 표현하자면 아래와 같다. 

```shell
1. 일반 문장
(권한) (명사)(:형용사) (일반 동사)(!부사) (값 or -전치사)

2. 제어 문장
(권한) (명사) (비교 동사) (값) (-제어 전치사) { (일반 문장) }

3. 단축 문장

(권한) (단축 동사) (값)
```

일반 문장은 객체를 반환하는 문장이다. 여기서 객체란, 품사, 변수, 상수, 함수, 메서드 등 모든 기본 단위를 의미한다. 문장은 객체의 조합으로서 객체를 반환하고, 파이프라인 ( | )을 통해 다음 문장으로 넘기거나, 특정 값에 저장한다. 만약 특정 값을 저장할 필요가 없는 문장은 임시 객체인 tmp를 쓴다. 제어 문장은 조금 더 복잡하니, 품사 구문에서 더 자세히 서술하겠다. 

여기서 중요한 것은, 다른 객체 지향 언어와 달리 모든 것을 각각의 객체로 치지 않는다는 점이다. 그렇다고 객체가 아닌 원시 타입이 있는 것도 아니다. 문장 구조에 포함되지 않는 시스템 정보, 상태 등은 $ctx라는 컨텍스트 객체 내부에 저장되며, CtxAPI를 통해 컨텍스트 객체에 접근하여 정보와 상태를 조절한다. 사실 모든 명사들은 이 $ctx의 하위 객체들을 품사 형식으로 풀어 쓴 것이다. 

예시를 들어보자. 

```shell
system stop!force -delay 5s
```

5초 뒤에 시스템을 종료하는 명령어이다. 이것을 ctx 원문으로 풀어쓰자면 이렇게 된다. 

```shell
$ctx.process.alias.system.run is!force false -delay 5s
```

즉, system stop이라는 것은, $ctx.process.alias.system.run이라는 상태 정보를 false라는 값으로 바꾸는 명령어이다. 그리고 이 NatureShell 문법은 ctx 원문으로 해석하는 역할을 하는 것이 NatureShell 자체의 역할이며, 이 ctx 원문을 받아들여 C# 스크립트를 호출하는 것이 CtxAPI의 역할이다. 

여기서 알려주고 싶었던 사실은, 앞으로 소개할 NatureShell 문법은 모두 상태값을 변경시키는 행위란 것이다. NatureShell은 총 3개의 계층으로 나뉘고, 각자가 서로의 영역을 침범하지 않는다. 이것은 나에게 알려줄 사실이기도 하다. 향후 개발 능력이 향상되어 최종 목표의 개발이 가능해질 때, 이 설계도대로 제작하면 된다는 것을 알려주고 싶었다. 

...그리고 실제로 최종 목표에서 Ctx 트리라는 핵심 원칙을 세우게 도와줬다. 

----